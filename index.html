<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Combat Frogs — Unit Era. Art First.</title>
<meta name="description" content="Combat Frogs: Unit is 5,000 hand-curated NFTs steeped in 2010s streetwear culture.
Each piece is crafted with street DNA drawn from the rap game, breakdance legacy, and cap culture.
Today — digital style. Tomorrow — perhaps the foundations of a brand. Coming Soon." />
<link rel="icon" href="assets/favicon.svg" type="image/svg+xml">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0a0b10; --fg:#eaf0f6; --muted:#b4c2d1;
  --ice:#02bdf0; --ice2:#0198c4;
  --border:#1b2030; --maxw:1200px;
  --font:'Anton', system-ui, -apple-system, Segoe UI, Roboto, Arial;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--fg);font-family:var(--font);letter-spacing:.02em}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
.wrap{max-width:var(--maxw);margin:0 auto;padding:0 20px}

/* ===== HERO (как у тебя) ===== */
.hero{position:relative;overflow:hidden;border-bottom:1px solid var(--border)}
.hero .hero-inner{
  position:relative; z-index:1; 
  min-height:46vh;
  display:flex;flex-direction:column;justify-content:center;align-items:center;gap:18px;
  padding:40px 0;
}
.hero-bg{position:absolute;inset:0;z-index:0;background:center/cover no-repeat;filter:contrast(1.02) brightness(.9)}

.wall-glow{position:absolute;top:8%;bottom:10%;width:34vw;max-width:520px;z-index:1;pointer-events:none;mix-blend-mode:screen;opacity:.40;filter:blur(20px);animation:glowPulse 5.2s ease-in-out infinite}
.wall-glow.left{left:-8vw;background:radial-gradient(50% 60% at 60% 50%, rgba(255,59,208,.55) 0%, rgba(255,31,84,.34) 36%, rgba(122,92,255,.22) 58%, rgba(0,0,0,0) 78%);animation-duration:4.9s}
.wall-glow.right{right:-8vw;background:radial-gradient(50% 60% at 40% 50%, rgba(40,224,255,.52) 0%, rgba(122,92,255,.30) 44%, rgba(0,0,0,0) 72%);animation-duration:5.8s;animation-delay:.6s}
@keyframes glowPulse{0%{opacity:.34}50%{opacity:.78}100%{opacity:.34}}

.tube{position:absolute;top:9%;bottom:45%;width:16px;z-index:2}
.tube.left{left:5%} .tube.right{right:5%}
.tube .stick{position:absolute;inset:0;border-radius:12px}
.tube .stick::before{content:"";position:absolute;inset:2px;border-radius:10px;background:#fff;animation:tubeCore 3.5s infinite steps(30,end)}
.tube .stick::after{content:"";position:absolute;inset:-22px;border-radius:18px;filter:blur(18px);opacity:.7;pointer-events:none;mix-blend-mode:screen;background:rgba(255,59,208,.6);animation:tubeHalo 4.7s infinite steps(50,end)}
@keyframes tubeCore{0%{opacity:.8}20%{opacity:.3}22%{opacity:1}50%{opacity:.7}70%{opacity:.2}72%{opacity:1}100%{opacity:.8}}
@keyframes tubeHalo{0%{opacity:.6}20%{opacity:.2}22%{opacity:.8}50%{opacity:.7}70%{opacity:.25}72%{opacity:.9}100%{opacity:.6}}

/* Title */
.sign-wrap{position:relative;width:min(520px,64vw);margin:0 auto 6px;z-index:3}
.sign-static{width:100%;height:auto;object-fit:contain;filter:none}

.soon-wrap{position:absolute;inset:0;pointer-events:none;display:flex;align-items:center;justify-content:center}
.sign-soon{
  position:relative;z-index:2;width:100%;height:auto;object-fit:contain;
  filter:drop-shadow(0 0 16px rgba(255,59,208,.6)) drop-shadow(0 0 28px rgba(255,59,208,.4));
  animation:soonFlick 3.7s infinite, soonJitter .9s infinite steps(10,end);
}
.soon-wrap::after{
  content:"";position:absolute;inset:0;z-index:1;
  -webkit-mask-image:url('assets/soon.png');mask-image:url('assets/soon.png');
  -webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;
  -webkit-mask-position:center;mask-position:center;
  -webkit-mask-size:contain;mask-size:contain;
  background:radial-gradient(circle,rgba(255,59,208,.45) 0%,rgba(255,59,208,.18) 70%,rgba(0,0,0,0) 100%);
  filter:blur(16px);mix-blend-mode:screen;opacity:.6;
  animation:soonAura 3.7s infinite;
}
@keyframes soonFlick{0%{opacity:.95}10%{opacity:.2}12%{opacity:1}30%{opacity:.85}32%{opacity:0}34%{opacity:1}60%{opacity:.9}62%{opacity:0}65%{opacity:1}100%{opacity:.95}}
@keyframes soonAura{0%{opacity:.6}10%{opacity:.2}12%{opacity:.7}30%{opacity:.55}32%{opacity:.05}34%{opacity:.7}60%{opacity:.5}62%{opacity:.1}65%{opacity:.7}100%{opacity:.6}}
@keyframes soonJitter{0%{transform:translate(0,0)}50%{transform:translate(.5px,-.3px)}100%{transform:translate(0,0)}}

/* ===== Добавки под HERO ===== */
.section{padding:32px 0;border-bottom:1px solid var(--border)}
.teaser{max-width:720px;margin:18px auto 0;text-align:center;color:var(--muted);line-height:1.55}
.social-row{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:center}
.btn{padding:10px 16px;border-radius:12px;font-weight:700;letter-spacing:.02em}
.btn-dark{background:#0e121a;color:var(--fg);border:1px solid var(--border)}
.btn-ice{background:linear-gradient(180deg,var(--ice),var(--ice2));color:#02141a;border:1px solid rgba(2,189,240,.6);box-shadow:0 0 18px rgba(2,189,240,.3)}

/* ===== Модалка allowlist ===== */
.modal[hidden]{display:none!important}
.modal{position:fixed;inset:0;z-index:999}
.modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.66);backdrop-filter:blur(3px)}
.modal__dialog{
  position:relative;margin:min(7vh,60px) auto 0;width:min(920px,94vw);
  background:#0f1417;border:1px solid #ffffff26;border-radius:14px;
  box-shadow:0 0 30px rgba(57,255,20,.15),0 40px 120px rgba(0,0,0,.6);
  padding:18px;
}
.modal__title{margin:0 0 10px;font-family:"Anton",system-ui,sans-serif;letter-spacing:.02em}
.modal__close{
  position:absolute;top:8px;right:8px;width:38px;height:38px;border-radius:50%;
  border:1px solid #ffffff2b;background:#0b0f11;color:#e6ffe6;font-size:22px;cursor:pointer;
  box-shadow:inset 0 0 8px rgba(57,255,20,.2)
}
.modal__frame-wrap{
  position:relative;
  height:min(72vh,720px);
  overflow:visible;                /* убираем обрезку */
  background:transparent !important; 
  border:0 !important;
  box-shadow:none !important;
  display:flex; align-items:center; justify-content:center;
}
.modal__frame-wrap iframe{
  position:relative;
  width:auto;                      /* ширина = содержимому */
  height:auto;                     /* высота = содержимому */
  min-width:380px; max-width:440px;/* ограничение ширины */
  min-height:420px;
  border:0; display:block;
}
@keyframes spin{to{transform:rotate(360deg)}}
.modal__fallback{margin-top:10px;opacity:.8;font-size:14px}
.footer{display:flex;justify-content:center;align-items:center;padding:18px 0;opacity:.7}
</style>
</head>
<body>

<!-- ===== HERO (без изменений) ===== -->
<section id="hero" class="hero">
  <div class="hero-bg" style="background-image:url('assets/bg-brick.png')"></div>

  <div class="wall-glow left"></div>
  <div class="wall-glow right"></div>
  <div class="tube left"><div class="stick"></div></div>
  <div class="tube right"><div class="stick"></div></div>

  <div class="hero-inner wrap">
    <div class="sign-wrap">
      <img class="sign-static" src="assets/title-static.png" alt="COMBAT FROGS: UNIT">
      <div class="soon-wrap">
        <img class="sign-soon" src="assets/soon.png" alt="SUN">
      </div>
    </div>
    <p class="tagline hero-desc">Combat Frogs: Unit is 5,000 hand-curated NFTs steeped in 2010s streetwear culture.
Each piece is crafted with street DNA drawn from the rap game, breakdance legacy, and cap culture.
Today — digital style. Tomorrow — perhaps the foundations of a brand. Coming Soon.</p>
    <div class="cta-row">
      <a class="btn btn-ice" href="#wl">Join Allowlist</a>
      <a class="btn btn-dark" href="https://opensea.io/collection/combat-frogs" target="_blank">OpenSea (OG)</a>
    </div>
  </div>
</section>

<section id="teaser" class="section" style="border:none; padding-top:12px">
  <div class="wrap">
    <p class="teaser">
      Hand-built in the neon hush. A unit is forming — disciplined, silent, sharp.
      If you know, you know. Step in and hold your position.
    </p>
  </div>
</section>

<section id="links" class="section" style="border:none; padding-top:6px">
  <div class="wrap">
    <div class="social-row">
      <a id="openseaLink"   class="btn btn-ice" href="https://opensea.io/collection/combat-frogs/overview" target="_blank" rel="noopener">OpenSea (OG)</a>
      <a id="twitterLink"   class="btn btn-ice" href="https://x.com/awaoriginal" target="_blank" rel="noopener">X — @awaoriginal</a>
      <a id="twitterLink2"  class="btn btn-ice" href="https://x.com/Combatfrogsunit" target="_blank" rel="noopener">X — @Combatfrogsunit</a>
      <a id="instagramLink" class="btn btn-ice" href="https://www.instagram.com/combatfrogs" target="_blank" rel="noopener">Instagram</a>
      <a href="#wl" class="btn btn-dark">Join Allowlist</a>
    </div>
  </div>
</section>

<section id="wl" class="section" style="display:none">
  <div class="wrap"><button id="joinBtn" class="btn btn-ice" type="button">Join Allowlist</button></div>
</section>

<footer class="footer"><div class="wrap">© <span id="y"></span> Combat Frogs</div></footer>

<!-- ===== Modal ===== -->
<div id="allowlistModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="wlTitle" hidden>
  <div class="modal__backdrop" data-close></div>
  <div class="modal__dialog">
    <button class="modal__close" type="button" aria-label="Close" data-close>&times;</button>
    <h2 id="wlTitle" class="modal__title">Join Allowlist</h2>
    <div class="modal__frame-wrap">
      <div class="spinner" aria-hidden="true"></div>
      <iframe id="wlFrame" title="Allowlist form" loading="lazy"></iframe>
    </div>
    <p class="modal__fallback">
      If the form doesn’t load, <a id="wlDirect" href="#" target="_blank" rel="noopener">open it directly</a>.
    </p>
  </div>
</div>

<script>
// год в футере
document.getElementById('y').textContent = new Date().getFullYear();

// Allowlist modal
(function(){
  const FORM_URL_BASE = 'https://script.google.com/macros/s/AKfycbx4E1oiTTlEcAXsLSdOoLTgkTbDeRh6Q7x_atyN3bMDS6ogxPXgWWpa_WLj4gwlhQnp/exec';

  const modal   = document.getElementById('allowlistModal');
  const frame   = document.getElementById('wlFrame');
  const direct  = document.getElementById('wlDirect');
  const spinner = modal.querySelector('.spinner');

  let loaded = false, lastFocus = null;

  function openModal(e){
    if (e) e.preventDefault();
    lastFocus = document.activeElement;
    modal.hidden = false;
    document.body.style.overflow = 'hidden';

    if (!loaded && frame){
      const url = FORM_URL_BASE + (FORM_URL_BASE.includes('?')?'&':'?') + 'v=' + Date.now(); // anti-cache
      frame.src = url;
      if (direct) direct.href = url;
    }
    const closeBtn = modal.querySelector('.modal__close'); closeBtn && closeBtn.focus();
    document.addEventListener('keydown', onKey);
  }
  function closeModal(){
    modal.hidden = true;
    document.body.style.overflow = '';
    document.removeEventListener('keydown', onKey);
    lastFocus && lastFocus.focus();
  }
  function onKey(e){
    if (e.key === 'Escape') closeModal();
    if (e.key === 'Tab'){
      const f = modal.querySelectorAll('button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])');
      if (!f.length) return;
      const first=f[0], last=f[f.length-1];
      if (e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
    }
  }
  document.addEventListener('click', function(e){
    const t = e.target.closest('a[href="#wl"], #joinBtn, [data-join]');
    if (t) openModal(e);
  });
  modal.addEventListener('click', function(e){
    if (e.target.matches('[data-close], .modal__backdrop')) closeModal();
  });
  frame && frame.addEventListener('load', function(){
    loaded = true; spinner && (spinner.style.display='none');
  });
})();
</script>
</body>
</html>
